(()=>{"use strict";(()=>{let e=null,n=null;function t(){e&&e.parentNode&&(e.parentNode.removeChild(e),e=null,n=null)}chrome.runtime.onMessage.addListener(((s,o,a)=>{if("SHOW_SAFETY_DIALOG"===s.type){const o=s.payload;n=o,function(s){e&&document.body.removeChild(e),e=document.createElement("div"),e.className="link-rubber-dialog",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.zIndex="2147483647",e.style.width="400px",e.style.padding="20px",e.style.backgroundColor="white",e.style.borderRadius="8px",e.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)",e.style.fontFamily="Arial, sans-serif";let o="",a="";switch(s.status){case"Safe":o="#34D399",a="✅";break;case"Suspicious":o="#FBBF24",a="⚠️";break;case"Unsafe":o="#EF4444",a="❌"}e.innerHTML=`\n    <div style="text-align: center; margin-bottom: 16px;">\n      <div style="font-size: 48px; margin-bottom: 8px;">${a}</div>\n      <h2 style="margin: 0; color: ${o}; font-size: 24px; font-weight: 600;">${s.status}</h2>\n      <p style="margin: 8px 0 0; font-size: 14px; color: #6B7280;">\n        ${s.url}\n      </p>\n    </div>\n    <div style="margin-bottom: 24px;">\n      <p style="margin: 0; font-size: 16px; line-height: 1.5; color: #374151;">\n        ${s.details||""}\n      </p>\n    </div>\n    <div style="display: flex; justify-content: space-between; gap: 12px;">\n      <button id="cancel-navigation" style="\n        flex: ${"Safe"===s.status?"0.4":"1"};\n        padding: 8px 16px;\n        background-color: #F3F4F6;\n        color: #374151;\n        border: none;\n        border-radius: 4px;\n        font-size: 16px;\n        font-weight: 500;\n        cursor: pointer;\n      ">Cancel</button>\n      <button id="proceed-navigation" style="\n        flex: ${"Safe"===s.status?"1.6":"1"};\n        padding: ${"Safe"===s.status?"12px 16px":"8px 16px"};\n        background-color: ${o};\n        color: white;\n        border: none;\n        border-radius: 4px;\n        font-size: ${"Safe"===s.status?"18px":"16px"};\n        font-weight: ${"Safe"===s.status?"600":"500"};\n        cursor: pointer;\n        box-shadow: ${"Safe"===s.status?"0 2px 5px rgba(0, 0, 0, 0.2)":"none"};\n      ">Proceed</button>\n    </div>\n  `,document.body.appendChild(e);const i=document.getElementById("cancel-navigation"),r=document.getElementById("proceed-navigation");i&&i.addEventListener("click",(()=>{n&&chrome.runtime.sendMessage({type:"CANCEL_NAVIGATION",payload:{url:n.url,tabId:chrome.runtime.sendMessage({type:"GET_TAB_ID"},(e=>e.tabId))}}),t()})),r&&(r.addEventListener("click",(()=>{n&&chrome.runtime.sendMessage({type:"PROCEED_NAVIGATION",payload:{url:n.url,tabId:chrome.runtime.sendMessage({type:"GET_TAB_ID"},(e=>e.tabId))}}),t()})),"Safe"===s.status&&r.focus())}(o),a({success:!0})}return"HIDE_SAFETY_DIALOG"===s.type&&(t(),a({success:!0})),!0}))})()})();