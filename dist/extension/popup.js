document.addEventListener("DOMContentLoaded",(function(){chrome.storage.local.get(null,(function(t){const e=document.getElementById("history-list");e.innerHTML="";const s=[];for(const e in t)e.startsWith("verdict-")&&s.push(t[e]);s.sort(((t,e)=>e.timestamp-t.timestamp));const i=s.slice(0,10);if(0!==i.length)for(const t of i){const s=document.createElement("div");s.className="history-item";let i="status-safe",n="✓";switch(t.status){case"Safe":i="status-safe",n="✓";break;case"Suspicious":i="status-suspicious",n="!";break;case"Unsafe":i="status-unsafe",n="✕"}s.innerHTML=`\n        <div class="status-icon ${i}">${n}</div>\n        <div class="history-url" title="${t.url}">${t.url}</div>\n      `,s.setAttribute("title",`${t.status}: ${t.details||"No details"}`),e.appendChild(s)}else e.innerHTML='<div class="history-item"><div class="history-url">No recent checks.</div></div>'})),document.getElementById("settings-btn").addEventListener("click",(function(){chrome.tabs.create({url:chrome.runtime.getURL("index.html")})}))}));